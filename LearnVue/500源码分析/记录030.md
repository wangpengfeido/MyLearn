## 30010
这一回说内部工具函数meergeOptions。

它的作用是合并两个options为一个新的options，在实例化和继承时都要用到。

打开````/src/core/util/options````。
````
/**
 * 合并两个option对象为一个新的
 * 核心工具，在实例化和继承时使用
 */
export function mergeOptions (
  parent: Object,
  child: Object,
  vm?: Component
): Object {
  if (process.env.NODE_ENV !== 'production') {
    checkComponents(child)
  }

  // 当child是Vue类时，将其赋值为options
  if (typeof child === 'function') {
    child = child.options
  }

  // 统一格式
  normalizeProps(child, vm)
  normalizeInject(child, vm)
  normalizeDirectives(child)

  // 应用child的extends和mixins，
  // 但是只有它是一个原始的options对象而不是另一个mergeOptions结果时才会调用。这个判断是根据_base完成的。
  if (!child._base) {
    if (child.extends) {
      // 将child的extends选项合并进parent的options
      parent = mergeOptions(parent, child.extends, vm)
    }
    if (child.mixins) {
      // 将child的mixins选项合并进parent的options
      for (let i = 0, l = child.mixins.length; i < l; i++) {
        parent = mergeOptions(parent, child.mixins[i], vm)
      }
    }
  }

  // 合并
  // 过程是这样的：有一个strats数组，里面保存了不同key的合并逻辑
  // 如果在strats数组中存在对应key的合并逻辑则使用，否则使用默认合并逻辑
  const options = {}
  let key
  for (key in parent) {
    mergeField(key)
  }
  for (key in child) {
    if (!hasOwn(parent, key)) {
      mergeField(key)
    }
  }
  function mergeField (key) {
    const strat = strats[key] || defaultStrat
    options[key] = strat(parent[key], child[key], vm, key)
  }
  return options
}
````
## 31010
这回说内部工具函数extend。
打开````src/shared/util.js````，直接上源码
````
/**
 * 混入属性到目标对象中
 * 它执行的是一层浅复制
 */
export function extend (to: Object, _from: ?Object): Object {
  for (const key in _from) {
    to[key] = _from[key]
  }
  return to
}
````

















